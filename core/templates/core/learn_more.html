{% extends 'core/base.html' %}
{% load static %}

{% block title %}Learn More - SightTrack{% endblock %}

{% block extra_head %}
<!-- Lucide Icons CDN -->
<script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
<style>
    body {
        margin: 0;
        padding: 0;
        background-color: #000;
        min-height: 100vh;
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        color: white;
        overflow-x: hidden;
    }

    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 2rem 4rem;
        position: relative;
    }

    .back-button {
        position: fixed;
        top: 2rem;
        left: 2rem;
        width: 24px;
        height: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.3s ease;
        text-decoration: none;
        color: white;
        z-index: 1000;
    }

    .back-button:hover .back-arrow::before,
    .back-button:hover .back-arrow::after {
        background: #ccc;
    }

    .back-arrow {
        width: 20px;
        height: 20px;
        position: relative;
    }

    .back-arrow::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 10px;
        height: 2px;
        background: white;
        transform: translate(-50%, -50%) rotate(45deg);
        transform-origin: left center;
    }

    .back-arrow::after {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 10px;
        height: 2px;
        background: white;
        transform: translate(-50%, -50%) rotate(-45deg);
        transform-origin: left center;
    }

    .content-section {
        margin-bottom: 4rem;
        padding: 0;
    }

    .hero-section {
        text-align: center;
        padding: 2rem 0 4rem;
    }

    h1 {
        font-size: clamp(3rem, 8vw, 5rem);
        font-weight: 600;
        letter-spacing: -0.03em;
        margin: 0 0 1.5rem 0;
        background: linear-gradient(135deg, #ffffff 0%, #a0a0a0 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    h2 {
        font-size: clamp(1.8rem, 4vw, 2.5rem);
        font-weight: 500;
        letter-spacing: -0.02em;
        margin: 0 0 1.5rem 0;
        color: #ffffff;
    }

    h3 {
        font-size: clamp(1.2rem, 3vw, 1.5rem);
        font-weight: 500;
        letter-spacing: -0.01em;
        margin: 0 0 1rem 0;
        color: #ffffff;
    }

    p {
        font-size: clamp(1.1rem, 2vw, 1.3rem);
        line-height: 1.6;
        color: #b0b0b0;
        margin: 0 0 1.5rem 0;
        font-weight: 300;
    }

    .hero-section p {
        color: #cccccc;
        font-size: clamp(1.2rem, 3vw, 1.8rem);
        font-weight: 300;
        line-height: 1.4;
    }

    .highlight {
        color: #ffffff;
        font-weight: 500;
    }

    .feature-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 2rem;
        margin: 2rem 0;
    }

    .feature-card {
        background: #0a0a0a;
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 12px;
        padding: 2rem;
        text-align: left;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
    }

    .feature-card::before {
        content: '';
        position: absolute;
        inset: -2px;
        border-radius: inherit;
        background: conic-gradient(
            from 0deg,
            transparent 0%,
            transparent 20%,
            rgba(221, 123, 187, 0.9) 30%,
            rgba(215, 159, 30, 0.9) 45%,
            rgba(90, 146, 44, 0.9) 60%,
            rgba(76, 120, 148, 0.9) 75%,
            transparent 85%,
            transparent 100%
        );
        opacity: 0;
        transition: opacity 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        animation: rotate 6s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        z-index: -2;
    }

    .feature-card::after {
        content: '';
        position: absolute;
        inset: 1px;
        border-radius: inherit;
        background: #0a0a0a;
        z-index: -1;
    }

    .feature-card:hover::before {
        opacity: 1;
    }

    .feature-card:hover {
        transform: translateY(-5px);
        border-color: transparent;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
    }

    @keyframes rotate {
        0% {
            transform: rotate(0deg);
        }
        50% {
            transform: rotate(180deg);
        }
        100% {
            transform: rotate(360deg);
        }
    }

    .feature-icon {
        width: 50px;
        height: 50px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 1.5rem;
        font-size: 1.5rem;
    }

    .feature-icon svg {
        width: 24px;
        height: 24px;
        stroke: #ffffff;
        stroke-width: 2;
    }

    .stats-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 2rem;
        margin: 2rem 0;
    }

    .stat-card {
        text-align: center;
        padding: 2rem;
        background: #0a0a0a;
        border-radius: 12px;
        border: 1px solid rgba(255, 255, 255, 0.1);
        transition: all 0.3s ease;
    }

    .stat-card:hover {
        transform: translateY(-3px);
        border-color: rgba(255, 255, 255, 0.2);
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
    }

    .stat-number {
        font-size: 2.5rem;
        font-weight: 600;
        color: #ffffff;
        margin-bottom: 0.5rem;
    }

    .stat-label {
        font-size: 1rem;
        color: #cccccc;
        font-weight: 300;
    }

    .cta-button {
        background: #ffffff;
        color: #000000;
        border: none;
        border-radius: 8px;
        padding: 1rem 2rem;
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        font-size: 1.1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        text-decoration: none;
        display: inline-block;
        margin: 1rem 0.5rem 0 0;
    }

    .cta-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 30px rgba(255, 255, 255, 0.25);
        background: #f5f5f5;
    }

    .gallery-section {
        text-align: center;
    }

    .gallery-container {
        padding: 2rem 0;
        margin: 2rem 0;
        position: relative;
        overflow: hidden;
    }

    .gallery-scroll {
        display: flex;
        gap: 2rem;
        padding: 0 2rem;
        width: max-content;
        transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        will-change: transform;
    }

    .preview-card {
        flex-shrink: 0;
        width: 200px;
        background: #0a0a0a;
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 12px;
        padding: 1.5rem;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        cursor: pointer;
        will-change: transform;
        position: relative;
        overflow: hidden;
    }

    .preview-card::before {
        content: '';
        position: absolute;
        inset: -2px;
        border-radius: inherit;
        background: conic-gradient(
            from 0deg,
            transparent 0%,
            transparent 20%,
            rgba(221, 123, 187, 0.9) 30%,
            rgba(215, 159, 30, 0.9) 45%,
            rgba(90, 146, 44, 0.9) 60%,
            rgba(76, 120, 148, 0.9) 75%,
            transparent 85%,
            transparent 100%
        );
        opacity: 0;
        transition: opacity 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        animation: rotate 6s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        z-index: -2;
    }

    .preview-card::after {
        content: '';
        position: absolute;
        inset: 1px;
        border-radius: inherit;
        background: #0a0a0a;
        z-index: -1;
    }

    .preview-card:hover::before {
        opacity: 1;
    }

    .preview-card:hover {
        transform: translateY(-5px) scale(1.02);
        border-color: transparent;
        box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
    }

    .preview-image {
        width: 100%;
        height: auto;
        border-radius: 8px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        transition: transform 0.3s ease;
        user-select: none;
        -webkit-user-drag: none;
    }

    .preview-card:hover .preview-image {
        transform: scale(1.05);
    }

    .gallery-controls {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 1rem;
        margin-top: 1.5rem;
    }

    .scroll-btn {
        width: 40px;
        height: 40px;
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.3s ease;
        color: white;
        font-size: 1.2rem;
        user-select: none;
    }

    .scroll-btn:hover {
        background: rgba(255, 255, 255, 0.2);
        border-color: rgba(255, 255, 255, 0.3);
        transform: scale(1.1);
    }

    .scroll-btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        transform: none;
    }

    .scroll-btn:disabled:hover {
        background: rgba(255, 255, 255, 0.1);
        border-color: rgba(255, 255, 255, 0.2);
    }

    .scroll-indicator {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 0.5rem;
        font-size: 0.9rem;
        color: #888;
    }

    .scroll-dots {
        display: flex;
        gap: 0.5rem;
    }

    .scroll-dot {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.3);
        transition: all 0.3s ease;
        cursor: pointer;
    }

    .scroll-dot.active {
        background: rgba(255, 255, 255, 0.8);
        transform: scale(1.2);
    }

    @media (max-width: 768px) {
        .container {
            padding: 1rem 2rem;
        }

        .back-button {
            top: 1rem;
            left: 1rem;
            width: 45px;
            height: 45px;
        }

        .content-section {
            margin-bottom: 2rem;
        }

        .hero-section {
            padding: 2rem 0 3rem;
        }

        .preview-card {
            width: 160px;
        }

        .scroll-btn {
            display: none;
        }

        .gallery-container {
            touch-action: pan-x;
        }
    }
</style>
</style>
{% endblock %}

{% block content %}
<a href="{% url 'index' %}" class="back-button">
    <div class="back-arrow"></div>
</a>

<div class="container">
    <div class="content-section hero-section">
        <h1>Learn More</h1>
        <p>Discover how SightTrack is revolutionizing wildlife conservation through citizen science and cutting-edge
            AI technology.</p>
    </div>

    <div class="content-section">
        <h2>Our Mission</h2>
        <p>SightTrack empowers everyday people to become <span class="highlight">citizen scientists</span>,
            contributing valuable data to wildlife conservation efforts worldwide. Through our innovative platform,
            we're building the most comprehensive database of <span class="highlight">biodiversity
                observations</span> ever created.</p>
        <p>Every photo you take, every species you identify, and every location you record helps scientists,
            researchers, and conservationists better understand and protect our planet's incredible biodiversity.
        </p>
    </div>

    <div class="content-section">
        <h2>Key Features</h2>
        <div class="feature-grid">
            <div class="feature-card">
                <div class="feature-icon">
                    <i data-lucide="sparkles"></i>
                </div>
                <h3>AI-Powered Identification</h3>
                <p>Our advanced machine learning algorithms can identify thousands of species instantly from your
                    photos with <span class="highlight">95%+ accuracy</span>.</p>
            </div>

            <div class="feature-card">
                <div class="feature-icon">
                    <i data-lucide="map-pin"></i>
                </div>
                <h3>Geolocation Tracking</h3>
                <p>Automatic location tagging helps map species distribution and track <span class="highlight">migration
                        patterns</span> over time.</p>
            </div>

            <div class="feature-card">
                <div class="feature-icon">
                    <i data-lucide="globe"></i>
                </div>
                <h3>Global Community</h3>
                <p>Connect with naturalists, researchers, and conservation enthusiasts from around the world in our
                    <span class="highlight">collaborative platform</span>.
                </p>
            </div>

            <div class="feature-card">
                <div class="feature-icon">
                    <i data-lucide="trending-up"></i>
                </div>
                <h3>Real-time Analytics</h3>
                <p>Track biodiversity trends in your area and contribute to <span class="highlight">scientific
                        research</span> with real-time data analysis.</p>
            </div>
        </div>
    </div>

    <div class="content-section">
        <h2>Impact by the Numbers</h2>
        <div class="stats-container">
            <div class="stat-card">
                <div class="stat-number">500K+</div>
                <div class="stat-label">Identifiable Species</div>
            </div>

            <div class="stat-card">
                <div class="stat-number">150+</div>
                <div class="stat-label">Countries Covered</div>
            </div>

            <div class="stat-card">
                <div class="stat-number">95%</div>
                <div class="stat-label">Accuracy Rate</div>
            </div>
        </div>
    </div>

    <div class="content-section">
        <h2>How It Works</h2>
        <p>SightTrack combines the power of <span class="highlight">computer vision</span>, <span
                class="highlight">machine learning</span>, and <span class="highlight">citizen science</span> to
            create a comprehensive wildlife monitoring system:</p>

        <div class="feature-grid">
            <div class="feature-card">
                <h3>1. Capture</h3>
                <p>Take photos of wildlife and plants using your smartphone camera through our intuitive app
                    interface.</p>
            </div>

            <div class="feature-card">
                <h3>2. Identify</h3>
                <p>Our AI instantly analyzes your photos to identify species, providing detailed information and
                    confidence scores.</p>
            </div>

            <div class="feature-card">
                <h3>3. Verify</h3>
                <p>Expert naturalists and community members can verify identifications to ensure data accuracy.</p>
            </div>

            <div class="feature-card">
                <h3>4. Contribute</h3>
                <p>Your verified observations become part of a global database used by researchers and
                    conservationists.</p>
            </div>
        </div>
    </div>

    <div class="content-section gallery-section">
        <h2>App Preview</h2>
        <p>Take a look at the SightTrack app interface and discover how easy it is to contribute to <span
                class="highlight">wildlife conservation</span>.</p>

        <div class="gallery-container" id="galleryContainer">
            <div class="gallery-scroll" id="galleryScroll">
                <div class="preview-card">
                    <img src="{% static 'images/previews/preview1.png' %}" alt="SightTrack App Preview 1"
                        class="preview-image">
                </div>
                <div class="preview-card">
                    <img src="{% static 'images/previews/preview2.png' %}" alt="SightTrack App Preview 2"
                        class="preview-image">
                </div>
                <div class="preview-card">
                    <img src="{% static 'images/previews/preview3.png' %}" alt="SightTrack App Preview 3"
                        class="preview-image">
                </div>
                <div class="preview-card">
                    <img src="{% static 'images/previews/preview4.png' %}" alt="SightTrack App Preview 4"
                        class="preview-image">
                </div>
                <div class="preview-card">
                    <img src="{% static 'images/previews/preview5.png' %}" alt="SightTrack App Preview 5"
                        class="preview-image">
                </div>
                <div class="preview-card">
                    <img src="{% static 'images/previews/preview6.png' %}" alt="SightTrack App Preview 6"
                        class="preview-image">
                </div>
            </div>
        </div>

        <div class="gallery-controls">
            <button class="scroll-btn" id="scrollLeft">‹</button>
            <div class="scroll-indicator">
                <div class="scroll-dots" id="scrollDots">
                    <!-- Dots will be generated by JavaScript -->
                </div>
            </div>
            <button class="scroll-btn" id="scrollRight">›</button>
        </div>
    </div>

    <div class="content-section">
        <h2>Ready to Make a Difference?</h2>
        <p>Join thousands of citizen scientists who are helping to protect biodiversity around the world. Every
            observation matters, and your contribution can help save endangered species and preserve ecosystems for
            future generations.</p>

            <br>

        <!-- <a href="{% url 'get_started' %}" class="cta-button">Get Started Today</a> -->
        <a href="{% url 'get_started' %}">
                        <button class="bg-slate-800 no-underline group cursor-pointer relative shadow-2xl shadow-zinc-900 rounded-full p-px text-sm font-semibold leading-6 text-white inline-block">
                            <span class="absolute inset-0 overflow-hidden rounded-full">
                                <span class="absolute inset-0 rounded-full bg-[image:radial-gradient(75%_100%_at_50%_0%,rgba(56,189,248,0.6)_0%,rgba(56,189,248,0)_75%)] opacity-0 transition-opacity duration-500 group-hover:opacity-100"></span>
                            </span>
                            <div class="relative flex space-x-2 items-center z-10 rounded-full bg-zinc-950 py-2 px-6 ring-1 ring-white/10">
                                <span>Get Started Today</span>
                                <svg fill="none" height="18" viewBox="0 0 24 24" width="18" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M10.75 8.75L14.25 12L10.75 15.25" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"></path>
                                </svg>
                            </div>
                            <span class="absolute -bottom-0 left-[1.125rem] h-px w-[calc(100%-2.25rem)] bg-gradient-to-r from-emerald-400/0 via-emerald-400/90 to-emerald-400/0 transition-opacity duration-500 group-hover:opacity-40"></span>
                        </button>
                    </a>

        <!-- <a href="https://apps.apple.com/ca/app/sighttrack/id6737868168" class="cta-button">Download App</a> -->
         <a href="{% url 'get_started' %}" style="margin-left: 1rem;">
                        <button class="bg-slate-800 no-underline group cursor-pointer relative shadow-2xl shadow-zinc-900 rounded-full p-px text-sm font-semibold leading-6 text-white inline-block">
                            <span class="absolute inset-0 overflow-hidden rounded-full">
                                <span class="absolute inset-0 rounded-full bg-[image:radial-gradient(75%_100%_at_50%_0%,rgba(56,189,248,0.6)_0%,rgba(56,189,248,0)_75%)] opacity-0 transition-opacity duration-500 group-hover:opacity-100"></span>
                            </span>
                            <div class="relative flex space-x-2 items-center z-10 rounded-full bg-zinc-950 py-2 px-6 ring-1 ring-white/10">
                                <span>Download App</span>
                                <svg fill="none" height="18" viewBox="0 0 24 24" width="18" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M10.75 8.75L14.25 12L10.75 15.25" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"></path>
                                </svg>
                            </div>
                            <span class="absolute -bottom-0 left-[1.125rem] h-px w-[calc(100%-2.25rem)] bg-gradient-to-r from-emerald-400/0 via-emerald-400/90 to-emerald-400/0 transition-opacity duration-500 group-hover:opacity-40"></span>
                        </button>
                    </a>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const galleryContainer = document.getElementById('galleryContainer');
        const galleryScroll = document.getElementById('galleryScroll');
        const scrollLeftBtn = document.getElementById('scrollLeft');
        const scrollRightBtn = document.getElementById('scrollRight');
        const scrollDotsContainer = document.getElementById('scrollDots');
        const previewCards = document.querySelectorAll('.preview-card');

        let currentIndex = 0;
        const cardWidth = 240; // 200px + 2rem gap
        const visibleCards = Math.floor(galleryContainer.clientWidth / cardWidth);
        const maxIndex = Math.max(0, previewCards.length - visibleCards) + 1;

        // Create scroll dots
        function createDots() {
            scrollDotsContainer.innerHTML = '';
            const numDots = maxIndex + 1;

            for (let i = 0; i <= maxIndex; i++) {
                const dot = document.createElement('div');
                dot.className = 'scroll-dot';
                if (i === 0) dot.classList.add('active');
                dot.addEventListener('click', () => scrollToIndex(i));
                scrollDotsContainer.appendChild(dot);
            }
        }

        // Update button states and dots
        function updateControls() {
            scrollLeftBtn.disabled = currentIndex <= 0;
            scrollRightBtn.disabled = currentIndex >= maxIndex;

            const dots = scrollDotsContainer.querySelectorAll('.scroll-dot');
            dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === currentIndex);
            });
        }

        // Scroll to specific index using CSS transform
        function scrollToIndex(index) {
            currentIndex = Math.max(0, Math.min(index, maxIndex));
            const translateX = -currentIndex * cardWidth;

            galleryScroll.style.transform = `translateX(${translateX}px)`;
            updateControls();
        }

        // Button event listeners
        scrollLeftBtn.addEventListener('click', function () {
            scrollToIndex(currentIndex - 1);
        });

        scrollRightBtn.addEventListener('click', function () {
            scrollToIndex(currentIndex + 1);
        });

        // Keyboard navigation (only when gallery is focused)
        document.addEventListener('keydown', function (e) {
            if (document.activeElement.closest('.gallery-section')) {
                if (e.key === 'ArrowLeft') {
                    e.preventDefault();
                    scrollToIndex(currentIndex - 1);
                } else if (e.key === 'ArrowRight') {
                    e.preventDefault();
                    scrollToIndex(currentIndex + 1);
                }
            }
        });

        // Handle resize
        window.addEventListener('resize', function () {
            createDots();
            updateControls();
            scrollToIndex(0); // Reset to first item on resize
        });

        // Initialize
        createDots();
        updateControls();
    });

    // Initialize Lucide icons
    lucide.createIcons();
</script>
{% endblock %}